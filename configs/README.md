# 配置文件说明

这个目录包含不同角色的副本配置文件。

## 配置文件列表

### default.json
默认配置，所有副本都打。适合：
- 新手角色
- 需要刷所有副本的角色
- 测试用途

### main_character.json
主力角色配置，选择性打副本。特点：
- 只打高价值副本
- 跳过难度高的副本
- 优化时间效率

### alt_character.json
小号配置，打简单副本。特点：
- 只打简单副本
- 避开高难度副本
- 适合装备较差的角色

## 配置文件格式

```json
{
  "description": "配置描述（可选）",
  "ocr_correction_map": {
    "梦魔丛林": "梦魇丛林"
  },
  "zone_dungeons": {
    "风暴群岛": [
      {"name": "真理之地", "selected": true},
      {"name": "预言神殿", "selected": false}
    ],
    "军团领域": [
      {"name": "大墓地密室", "selected": true}
    ]
  }
}
```

## 字段说明

### description
- 类型：字符串（可选）
- 说明：配置文件的描述信息

### ocr_correction_map
- 类型：对象
- 说明：OCR 识别纠正映射表
- 格式：`{"OCR识别的错误文本": "正确的文本"}`
- 用途：纠正 OCR 常见的识别错误

### zone_dungeons
- 类型：对象
- 说明：副本配置字典
- 格式：`{"区域名称": [副本列表]}`

#### 副本对象
- `name`：副本名称（必填）
- `selected`：是否选定该副本（必填）
  - `true`：会自动打这个副本
  - `false`：跳过这个副本

## 创建自定义配置

### 方法1：复制现有配置

```bash
# 复制默认配置
cp configs/default.json configs/my_character.json

# 编辑配置文件
# 修改 selected 字段来选择要打的副本
```

### 方法2：从头创建

1. 创建新的 JSON 文件
2. 参考上面的格式填写内容
3. 确保 JSON 格式正确

## 使用配置

### 运行脚本

```bash
# 使用自定义配置
python auto_dungeon_simple.py -c configs/my_character.json
```

### 查看进度

```bash
# 查看自定义配置的进度
# 注意：这里使用配置名称（不含路径和扩展名）
python view_progress.py -c my_character
```

## 注意事项

1. **配置名称**：配置文件名（不含 `.json` 扩展名）会作为配置名称存储在数据库中
2. **进度独立**：不同配置的进度完全独立，互不影响
3. **JSON 格式**：确保 JSON 格式正确，可以使用在线 JSON 验证工具检查
4. **副本名称**：副本名称必须与游戏中的名称完全一致
5. **区域名称**：区域名称必须与游戏中的名称完全一致

## 示例：创建专门打材料的配置

```json
{
  "description": "材料副本配置 - 只打产出特定材料的副本",
  "ocr_correction_map": {
    "梦魔丛林": "梦魇丛林"
  },
  "zone_dungeons": {
    "风暴群岛": [
      {"name": "真理之地", "selected": true},
      {"name": "预言神殿", "selected": false},
      {"name": "海底王宫", "selected": true}
    ],
    "军团领域": [
      {"name": "大墓地密室", "selected": true},
      {"name": "流放王座", "selected": false}
    ]
  }
}
```

## 常见问题

### Q: 如何知道哪些副本应该选定？
A: 根据你的角色实力和需求：
- 主力角色：选择高价值副本
- 小号：选择简单副本
- 材料需求：选择产出特定材料的副本

### Q: 配置文件修改后需要重启吗？
A: 是的，每次运行脚本时会重新加载配置文件

### Q: 可以有多个配置文件吗？
A: 可以，你可以为每个角色创建一个配置文件

### Q: 配置文件放在哪里？
A: 建议放在 `configs/` 目录下，便于管理

### Q: 如何备份配置？
A: 直接复制 JSON 文件即可

## 技巧

1. **按区域分组**：可以先把某个区域的所有副本都设为 `false`，然后只选择需要的
2. **版本控制**：可以用 Git 管理配置文件的变更
3. **命名规范**：建议使用有意义的文件名，如 `warrior_main.json`、`mage_alt.json`
4. **注释说明**：在 `description` 字段中详细说明配置用途

